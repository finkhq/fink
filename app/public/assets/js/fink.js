/**
 * fink - Frontend application for interact with fink API.
 * @version 0.4.0
 * @link    https://github.com/finkhq/fink-www
 * @author  fink (https://github.com/finkhq)
 * @license MIT
 */
"use strict";!function(t,e,r){t.isURI=function(e){return r(e,t.host)},t.route=function(e){return t.endpoint+"/"+e},t.register=function(r){return e(t.endpoint,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uri:r})}).then(function(t){return t.json()})},t.buzz=function(){var t=document.getElementById("fink-logo");t.classList.add("toggleBuzz"),setTimeout(function(){t.classList.remove("toggleBuzz")},750)}}(window.Fink,window.fetch,require("fink-is-uri")),riot.tag2("shorten",'<section id="shorten-search" class="container" hide="{isFetched}"><form id="shorten-form" onsubmit="{send}"><fieldset><input oninput="{edit}" id="shorten-field" type="search" taborder="1" placeholder="Paste a link to shorten it" autofocus><button id="shorten-button" class="button-primary" taborder="2" onclick="{send}"><span class>Shorten</span><span id="spinner" class="hide"></span></button></fieldset></form></section><section id="shorten-results" show="{isFetched}"><div class="shorten-box container"><label>URL Shorten</label><input value="{hash}" id="uri-hash" class="shorten-text" type="text" onclick="this.select();" readonly><button class="copy-button" data-clipboard-target="#uri-hash"><img class="copy-clipboard" src="assets/images/clipboard.png" alt="Copy to clipboard"></button></div><div class="shorten-box container"><label>URL Shorten Emojify</label><input value="{hashEmoji}" id="uri-hash-emoji" class="shorten-text" type="text" onclick="this.select();" readonly><button class="copy-button" data-clipboard-target="#uri-hash-emoji"><img class="copy-clipboard" src="assets/images/clipboard.png" alt="Copy to clipboard"></button></div></section>',"","",function(t){this.isFetched=!1,this.edit=function(t){this.uri=t.target.value}.bind(this),this.resolveURI=function(t,e){this.hash=Fink.route(t),this.hashEmoji=Fink.route(e),this.isFetched=!0,this.update()},this.send=function(t){if(!Fink.isURI(this.uri))return Fink.buzz();var e=this;this["shorten-button"].classList.add("in-action"),this.spinner.classList.remove("hide"),this.spinner.classList.add("show"),Fink.register(this.uri).then(function(t){e.resolveURI(t.data.hash,t.data.hashEmoji)})}.bind(this)},"{ }"),require=function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return o(r?r:t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){var n=t("parse-uri"),o=t("punycode2/encode"),i=/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i,s=/%[^0-9a-f]/i,a=/%[0-9a-f](:?[^0-9a-f]|$)/i,u=/^[a-z][a-z0-9\+\-\.]*$/,c=/^\/\//;e.exports=function(t,e){if(!t)return!1;if("object"!=typeof t){if(t=o(t),i.test(t))return!1;if(s.test(t)||a.test(t))return!1;t=n(t,e)}return t.protocol&&u.test(t.protocol.toLowerCase())?!t.authority&&c.test(t.path)?!1:!0:!1}},{"parse-uri":5,"punycode2/encode":2}],2:[function(t,e,r){var n=t("./ucs2/decode"),o=t("./lib/adapt"),i=String.fromCharCode,s=Math.floor,a=2147483647,u=36,c="-",l=72,f=128,h=1,d=26,p=function(t,e){return t+22+75*(26>t)-((0!==e)<<5)};e.exports=function(t){var e,r,y,m,v,g,b,w,_,E,x,T,k,A,S,O=[];for(t=n(t),T=t.length,e=f,r=0,v=l,g=0;T>g;++g)x=t[g],128>x&&O.push(i(x));for(y=m=O.length,m&&O.push(c);T>y;){for(b=a,g=0;T>g;++g)x=t[g],x>=e&&b>x&&(b=x);if(k=y+1,b-e>s((a-r)/k))throw new RangeError("Overflow: input needs wider integers to process");for(r+=(b-e)*k,e=b,g=0;T>g;++g){if(x=t[g],e>x&&++r>a)throw new RangeError("Overflow: input needs wider integers to process");if(x===e){for(w=r,_=u;E=v>=_?h:_>=v+d?d:_-v,!(E>w);_+=u)S=w-E,A=u-E,O.push(i(p(E+S%A,0))),w=s(S/A);O.push(i(p(w,0))),v=o(r,k,y===m),r=0,++y}}++r,++e}return O.join("")}},{"./lib/adapt":3,"./ucs2/decode":4}],3:[function(t,e,r){var n=Math.floor,o=36,i=1,s=26,a=700,u=38,c=o-i;e.exports=function(t,e,r){var i=0;for(t=r?n(t/a):t>>1,t+=n(t/e),i=0;t>c*s>>1;i+=o)t=n(t/c);return n(i+(c+1)*t/(t+u))}},{}],4:[function(t,e,r){e.exports=function(t){for(var e,r,n=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(r=t.charCodeAt(o++),56320===(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}},{}],5:[function(t,e,r){e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),o={},i=14;i--;)o[r.key[i]]=n[i]||"";return o[r.q.name]={},o[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(o[r.q.name][e]=n)}),o}},{}],"fink-is-uri":[function(t,e,r){var n=t("is-uri"),o=t("parse-uri");e.exports=function(t,e){return t=o(t),"localhost"!==t.hostname&&t.hostname!==e&&n(t,{strictMode:!0})}},{"is-uri":1,"parse-uri":5}]},{},[]),function(){function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function n(t){N=t}function o(t){G=t}function i(){return function(){process.nextTick(l)}}function s(){return function(){D(l)}}function a(){var t=0,e=new J(l),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=l,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(l,1)}}function l(){for(var t=0;$>t;t+=2){var e=Q[t],r=Q[t+1];e(r),Q[t]=void 0,Q[t+1]=void 0}$=0}function f(){try{var t=require,e=t("vertx");return D=e.runOnLoop||e.runOnContext,s()}catch(r){return c()}}function h(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function y(t){try{return t.then}catch(e){return et.error=e,et}}function m(t,e,r,n){try{t.call(e,r,n)}catch(o){return o}}function v(t,e,r){G(function(t){var n=!1,o=m(r,e,function(r){n||(n=!0,e!==r?w(t,r):E(t,r))},function(e){n||(n=!0,x(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&o&&(n=!0,x(t,o))},t)}function g(t,e){e._state===Z?E(t,e._result):e._state===tt?x(t,e._result):T(e,void 0,function(e){w(t,e)},function(e){x(t,e)})}function b(t,r){if(r.constructor===t.constructor)g(t,r);else{var n=y(r);n===et?x(t,et.error):void 0===n?E(t,r):e(n)?v(t,r,n):E(t,r)}}function w(e,r){e===r?x(e,d()):t(r)?b(e,r):E(e,r)}function _(t){t._onerror&&t._onerror(t._result),k(t)}function E(t,e){t._state===V&&(t._result=e,t._state=Z,0!==t._subscribers.length&&G(k,t))}function x(t,e){t._state===V&&(t._state=tt,t._result=e,G(_,t))}function T(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+Z]=r,o[i+tt]=n,0===i&&t._state&&G(k,t)}function k(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n,o,i=t._result,s=0;s<e.length;s+=3)n=e[s],o=e[s+r],n?O(r,n,o,i):o(i);t._subscribers.length=0}}function A(){this.error=null}function S(t,e){try{return t(e)}catch(r){return rt.error=r,rt}}function O(t,r,n,o){var i,s,a,u,c=e(n);if(c){if(i=S(n,o),i===rt?(u=!0,s=i.error,i=null):a=!0,r===i)return void x(r,p())}else i=o,a=!0;r._state!==V||(c&&a?w(r,i):u?x(r,s):t===Z?E(r,i):t===tt&&x(r,i))}function j(t,e){try{e(function(e){w(t,e)},function(e){x(t,e)})}catch(r){x(t,r)}}function F(t,e){var r=this;r._instanceConstructor=t,r.promise=new t(h),r._validateInput(e)?(r._input=e,r.length=e.length,r._remaining=e.length,r._init(),0===r.length?E(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&E(r.promise,r._result))):x(r.promise,r._validationError())}function R(t){return new nt(this,t).promise}function C(t){function e(t){w(o,t)}function r(t){x(o,t)}var n=this,o=new n(h);if(!z(t))return x(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===V&&i>s;s++)T(n.resolve(t[s]),void 0,e,r);return o}function L(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(h);return w(r,t),r}function q(t){var e=this,r=new e(h);return x(r,t),r}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(t){this._id=ut++,this._state=void 0,this._result=void 0,this._subscribers=[],h!==t&&(e(t)||P(),this instanceof B||M(),j(this,t))}function U(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.Promise;(!r||"[object Promise]"!==Object.prototype.toString.call(r.resolve())||r.cast)&&(t.Promise=ct)}var I;I=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var D,N,H,z=I,$=0,G=({}.toString,function(t,e){Q[$]=t,Q[$+1]=e,$+=2,2===$&&(N?N(l):H())}),X="undefined"!=typeof window?window:void 0,Y=X||{},J=Y.MutationObserver||Y.WebKitMutationObserver,K="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);H=K?i():J?a():W?u():void 0===X&&"function"==typeof require?f():c();var V=void 0,Z=1,tt=2,et=new A,rt=new A;F.prototype._validateInput=function(t){return z(t)},F.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},F.prototype._init=function(){this._result=new Array(this.length)};var nt=F;F.prototype._enumerate=function(){for(var t=this,e=t.length,r=t.promise,n=t._input,o=0;r._state===V&&e>o;o++)t._eachEntry(n[o],o)},F.prototype._eachEntry=function(t,e){var n=this,o=n._instanceConstructor;r(t)?t.constructor===o&&t._state!==V?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(o.resolve(t),e):(n._remaining--,n._result[e]=t)},F.prototype._settledAt=function(t,e,r){var n=this,o=n.promise;o._state===V&&(n._remaining--,t===tt?x(o,r):n._result[e]=r),0===n._remaining&&E(o,n._result)},F.prototype._willSettleAt=function(t,e){var r=this;T(t,void 0,function(t){r._settledAt(Z,e,t)},function(t){r._settledAt(tt,e,t)})};var ot=R,it=C,st=L,at=q,ut=0,ct=B;B.all=ot,B.race=it,B.resolve=st,B.reject=at,B._setScheduler=n,B._setAsap=o,B._asap=G,B.prototype={constructor:B,then:function(t,e){var r=this,n=r._state;if(n===Z&&!t||n===tt&&!e)return this;var o=new this.constructor(h),i=r._result;if(n){var s=arguments[n-1];G(function(){O(n,o,s,i)})}else T(r,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var lt=U,ft={Promise:ct,polyfill:lt};"function"==typeof define&&define.amd?define(function(){return ft}):"undefined"!=typeof module&&module.exports?module.exports=ft:"undefined"!=typeof this&&(this.ES6Promise=ft),lt()}.call(this),function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){this.map={},t instanceof n?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function i(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),i(e)}function a(t){var e=new FileReader;return e.readAsText(t),i(e)}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},p.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}function l(t,e){e=e||{};var r=e.body;if(l.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new n(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",(e.headers||!this.headers)&&(this.headers=new n(e.headers)),this.method=c(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function h(t){var e=new n,r=t.getAllResponseHeaders().trim().split("\n");return r.forEach(function(t){var r=t.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();e.append(n,o)}),e}function d(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof n?e.headers:new n(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){n.prototype.append=function(t,n){t=e(t),n=r(n);var o=this.map[t];o||(o=[],this.map[t]=o),o.push(n)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(t,n){this.map[e(t)]=[r(n)]},n.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){t.call(e,n,r,this)},this)},this)};var p={blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t},y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},u.call(l.prototype),u.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];d.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},t.Headers=n,t.Request=l,t.Response=d,t.fetch=function(t,e){return new Promise(function(r,n){function o(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var i;i=l.prototype.isPrototypeOf(t)&&!e?t:new l(t,e);var s=new XMLHttpRequest;s.onload=function(){var t=1223===s.status?204:s.status;if(100>t||t>599)return void n(new TypeError("Network request failed"));var e={status:t,statusText:s.statusText,headers:h(s),url:o()},i="response"in s?s.response:s.responseText;r(new d(i,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&p.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return o(r?r:t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){var n=t("matches-selector");e.exports=function(t,e,r){for(var o=r?t:t.parentNode;o&&o!==document;){if(n(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,r){function n(t,e,r,n,i){var s=o.apply(this,arguments);return t.addEventListener(r,s,i),{destroy:function(){t.removeEventListener(r,s,i)}}}function o(t,e,r,n){return function(r){r.delegateTarget=i(r.target,e,!0),r.delegateTarget&&n.call(t,r)}}var i=t("closest");e.exports=n},{closest:1}],3:[function(t,e,r){r.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},r.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||r.node(t[0]))},r.string=function(t){return"string"==typeof t||t instanceof String},r.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,r){function n(t,e,r){if(!t&&!e&&!r)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(r))throw new TypeError("Third argument must be a Function");if(a.node(t))return o(t,e,r);if(a.nodeList(t))return i(t,e,r);if(a.string(t))return s(t,e,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,r){return t.addEventListener(e,r),{destroy:function(){t.removeEventListener(e,r)}}}function i(t,e,r){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,r)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,r)})}}}function s(t,e,r){return u(document.body,t,e,r)}var a=t("./is"),u=t("delegate");e.exports=n},{"./is":3,delegate:2}],5:[function(t,e,r){function n(t,e){if(i)return i.call(t,e);for(var r=t.parentNode.querySelectorAll(e),n=0;n<r.length;++n)if(r[n]==t)return!0;return!1}var o=Element.prototype,i=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=n},{}],6:[function(t,e,r){function n(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),n=document.createRange();n.selectNodeContents(t),r.removeAllRanges(),r.addRange(n),e=r.toString()}return e}e.exports=n},{}],7:[function(t,e,r){function n(){}n.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){function n(){o.off(t,n),e.apply(r,arguments)}var o=this;return n._=e,this.on(t,n,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=r.length;for(n;o>n;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],o=[];if(n&&e)for(var i=0,s=n.length;s>i;i++)n[i].fn!==e&&n[i].fn._!==e&&o.push(n[i]);return o.length?r[t]=o:delete r[t],this}},e.exports=n},{}],8:[function(t,e,r){function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("select"),a=n(s),u=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=a["default"](this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=a["default"](this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},i(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!=typeof t||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=t}},get:function(){return this._target}}]),t}();r["default"]=u,e.exports=r["default"]},{select:6}],9:[function(t,e,r){function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var r="data-clipboard-"+t;return e.hasAttribute(r)?e.getAttribute(r):void 0}r.__esModule=!0;var a=t("./clipboard-action"),u=n(a),c=t("tiny-emitter"),l=n(c),f=t("good-listener"),h=n(f),d=function(t){function e(r,n){o(this,e),t.call(this),this.resolveOptions(n),this.listenClick(r)}return i(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=h["default"](t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return s("action",t)},e.prototype.defaultTarget=function(t){var e=s("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return s("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(l["default"]);r["default"]=d,e.exports=r["default"]},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});