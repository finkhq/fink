/**
 * fink - Frontend application for interact with fink API.
 * @version 0.5.3
 * @link    https://github.com/finkhq/fink-www
 * @author  fink (https://github.com/finkhq)
 * @license MIT
 */
!function(t,e){"use strict";function n(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function r(t,e){for(var n,r=e.length,i=t.length;r>i;)n=e[--r],e.splice(r,1),n.unmount()}function i(t,e){Object.keys(t.tags).forEach(function(n){var r=t.tags[n];A(r)?d(r,function(t){_(t,n,e)}):_(r,n,e)})}function o(t,e,n){var r,i=t._root;for(t._virts=[];i;)r=i.nextSibling,n?e.insertBefore(i,n._root):e.appendChild(i),t._virts.push(i),i=r}function s(t,e,n,r){for(var i,o=t._root,s=0;r>s;s++)i=o.nextSibling,e.insertBefore(o,n._root),o=i}function a(t,e,a){m(t,"each");var u,c=typeof y(t,"no-reorder")!==Z||m(t,"no-reorder"),f=L(t),p=K[f]||{tmpl:t.outerHTML},h=W.test(f),d=t.parentNode,g=document.createTextNode(""),v=x(t),b=/^option$/i.test(f),w=[],_=[],E="VIRTUAL"==t.tagName;a=rt.loopKeys(a),d.insertBefore(g,t),e.one("before-mount",function(){t.parentNode.removeChild(t),d.stub&&(d=e.root)}).on("update",function(){var m=rt(a.val,e),y=document.createDocumentFragment();A(m)||(u=m||!1,m=u?Object.keys(m).map(function(t){return n(a,t,m[t])}):[]),m.forEach(function(r,g){var m=c&&r instanceof Object,b=_.indexOf(r),x=~b&&m?b:g,T=w[x];r=!u&&a.key?n(a,r,g):r,!m&&!T||m&&!~b||!T?(T=new l(p,{parent:e,isLoop:!0,hasImpl:!!K[f],root:h?d:t.cloneNode(),item:r},t.innerHTML),T.mount(),E&&(T._root=T.root.firstChild),g==w.length?E?o(T,y):y.appendChild(T.root):(E?o(T,d,w[g]):d.insertBefore(T.root,w[g].root),_.splice(g,0,r)),w.splice(g,0,T),x=g):T.update(r),x!==g&&m&&(E?s(T,d,w[g],t.childNodes.length):d.insertBefore(T.root,w[g].root),a.pos&&(T[a.pos]=g),w.splice(g,0,w.splice(x,1)[0]),_.splice(g,0,_.splice(x,1)[0]),!v&&T.tags&&i(T,g)),T._item=r,k(T,"_parent",e)}),r(m,w),b?d.appendChild(y):d.insertBefore(y,g),v&&(e.tags[f]=w),_=m.slice()})}function u(t,e,n,r){N(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||y(t,"each")?1:0,n){var i=x(t);i&&!t.isLoop&&n.push(E(i,{root:t,parent:e},t.innerHTML,e))}(!t.isLoop||r)&&P(t,e,[])}})}function c(t,e,n){function r(t,e,r){rt.hasExpr(e)&&n.push(C({dom:t,expr:e},r))}N(t,function(t){var n,i=t.nodeType;return 3==i&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==i?(n=y(t,"each"))?(a(t,e,n),!1):(d(t.attributes,function(e){var n=e.name,i=n.split("__")[1];return r(t,e.value,{attr:i||n,bool:i}),i?(m(t,n),!1):void 0}),x(t)?!1:void 0):void 0})}function l(t,n,r){function i(){var t=w&&x?f:y||f;d(N.attributes,function(e){var n=e.value;p[v(e.name)]=rt.hasExpr(n)?rt(n,t):n}),d(Object.keys(F),function(e){p[v(e)]=rt(F[e],t)})}function o(t){for(var e in _)typeof f[e]!==Q&&j(f,e)&&(f[e]=t[e])}function s(){f.parent&&x&&d(Object.keys(f.parent),function(t){var e=!S(tt,t)&&S(I,t);(typeof f[t]===Q||e)&&(e||I.push(t),f[t]=f.parent[t])})}function a(t){if(d(L,function(e){e[t?"mount":"unmount"]()}),y){var e=t?"on":"off";x?y[e]("unmount",f.unmount):y[e]("update",f.update)[e]("unmount",f.unmount)}}var l,f=z.observable(this),p=D(n.opts)||{},y=n.parent,x=n.isLoop,w=n.hasImpl,_=O(n.item),E=[],L=[],N=n.root,H=t.fn,q=N.tagName.toLowerCase(),F={},I=[];H&&N._tag&&N._tag.unmount(!0),this.isMounted=!1,N.isLoop=x,N._tag=this,k(this,"_riot_id",++B),C(this,{parent:y,root:N,opts:p,tags:{}},_),d(N.attributes,function(t){var e=t.value;rt.hasExpr(e)&&(F[t.name]=e)}),l=it(t.tmpl,r),k(this,"update",function(t){return t=O(t),s(),t&&typeof _===J&&(o(t),_=t),C(f,t),i(),f.trigger("update",t),h(E,f),st(function(){f.trigger("updated")}),this}),k(this,"mixin",function(){return d(arguments,function(t){var e;t=typeof t===Z?z.mixin(t):t,g(t)?(e=new t,t=t.prototype):e=t,d(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(f[t]=g(e[t])?e[t].bind(f):e[t])}),e.init&&e.init.bind(f)()}),this}),k(this,"mount",function(){if(i(),H&&H.call(f,p),c(l,f,E),a(!0),(t.attrs||w)&&(M(t.attrs,function(t,e){b(N,t,e)}),c(f.root,f,E)),(!f.parent||x)&&f.update(_),f.trigger("before-mount"),x&&!w)f.root=N=l.firstChild;else{for(;l.firstChild;)N.appendChild(l.firstChild);N.stub&&(f.root=N=y.root)}x&&u(f.root,f.parent,null,!0),!f.parent||f.parent.isMounted?(f.isMounted=!0,f.trigger("mount")):f.parent.one("mount",function(){R(f.root)||(f.parent.isMounted=f.isMounted=!0,f.trigger("mount"))})}),k(this,"unmount",function(t){var n,r=N,i=r.parentNode,o=X.indexOf(f);if(f.trigger("before-unmount"),~o&&X.splice(o,1),this._virts&&d(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),i){if(y)n=T(y),A(n.tags[q])?d(n.tags[q],function(t,e){t._riot_id==f._riot_id&&n.tags[q].splice(e,1)}):n.tags[q]=e;else for(;r.firstChild;)r.removeChild(r.firstChild);t?m(i,"riot-tag"):i.removeChild(r)}f.trigger("unmount"),a(),f.off("*"),f.isMounted=!1,delete N._tag}),u(l,this,L)}function f(e,n,r,i){r[e]=function(e){var o,s=i._parent,a=i._item;if(!a)for(;s&&!a;)a=s._item,s=s._parent;e=e||t.event,j(e,"currentTarget")&&(e.currentTarget=r),j(e,"target")&&(e.target=e.srcElement),j(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=a,n.call(i,e)===!0||/radio|check/.test(r.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(o=a?T(s):i,o.update())}}function p(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function h(t,e){d(t,function(t,n){var r=t.dom,i=t.attr,o=rt(t.expr,e),s=t.dom.parentNode;if(t.bool?o=o?i:!1:null==o&&(o=""),s&&"TEXTAREA"==s.tagName&&(o=(""+o).replace(/riot-/g,""),s.value=o),t.value!==o){if(t.value=o,!i)return void(r.nodeValue=""+o);if(m(r,i),g(o))f(i,o,r,e);else if("if"==i){var a=t.stub,u=function(){p(a.parentNode,a,r)},c=function(){p(r.parentNode,r,a)};o?a&&(u(),r.inStub=!1,R(r)||N(r,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(a=t.stub=a||document.createTextNode(""),r.parentNode?c():(e.parent||e).one("updated",c),r.inStub=!0)}else if(/^(show|hide)$/.test(i))"hide"==i&&(o=!o),r.style.display=o?"":"none";else if("value"==i)r.value=o;else if($(i,G)&&i!=V)o&&b(r,i.slice(G.length),o);else{if(t.bool&&(r[i]=o,!o))return;(0===o||o&&typeof o!==J)&&b(r,i,o)}}})}function d(t,e){for(var n,r=t?t.length:0,i=0;r>i;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function g(t){return typeof t===Y||!1}function m(t,e){t.removeAttribute(e)}function v(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function y(t,e){return t.getAttribute(e)}function b(t,e,n){t.setAttribute(e,n)}function x(t){return t.tagName&&K[y(t,V)||t.tagName.toLowerCase()]}function w(t,e,n){var r=n.tags[e];r?(A(r)||r!==t&&(n.tags[e]=[r]),S(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function _(t,e,n){var r,i=t.parent;i&&(r=i.tags[e],A(r)?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):w(t,e,i))}function E(t,e,n,r){var i=new l(t,e,n),o=L(e.root),s=T(r);return i.parent=s,i._parent=r,w(i,o,s),s!==r&&w(i,o,r),e.root.innerHTML="",i}function T(t){for(var e=t;!x(e.root)&&e.parent;)e=e.parent;return e}function k(t,e,n,r){return Object.defineProperty(t,e,C({value:n,enumerable:!1,writable:!1,configurable:!1},r)),t}function L(t){var e=x(t),n=y(t,"name"),r=n&&!rt.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return r}function C(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var i in e)j(t,i)&&(t[i]=e[i]);return t}function S(t,e){return~t.indexOf(e)}function A(t){return Array.isArray(t)||t instanceof Array}function j(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===Q||n&&n.writable}function O(t){if(!(t instanceof l||t&&typeof t.trigger==Y))return t;var e={};for(var n in t)S(tt,n)||(e[n]=t[n]);return e}function N(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)N(t,e),t=t.nextSibling}}function M(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function R(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function H(t){return document.createElement(t)}function q(t,e){return(e||document).querySelectorAll(t)}function F(t,e){return(e||document).querySelector(t)}function D(t){function e(){}return e.prototype=t,new e}function I(t){return y(t,"id")||y(t,"name")}function P(t,e,n){var r,i=I(t),o=function(o){S(n,i)||(r=A(o),o?(!r||r&&!S(o,t))&&(r?o.push(t):e[i]=[o,t]):e[i]=t)};i&&(rt.hasExpr(i)?e.one("mount",function(){i=I(t),o(e[i])}):o(e[i]))}function $(t,e){return t.slice(0,e.length)===e}function U(t,e,n){var r=K[e],i=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new l(r,{root:t,opts:n},i)),r&&r.mount&&(r.mount(),S(X,r)||X.push(r)),r}var z={version:"v2.3.15",settings:{}},B=0,X=[],K={},G="riot-",V=G+"tag",Z="string",J="object",Q="undefined",Y="function",W=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,tt=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],et=0|(t&&t.document||{}).documentMode;z.observable=function(t){t=t||{};var e={},n=Array.prototype.slice,r=function(t,e){t.replace(/\S+/g,e)},i=function(e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!1,configurable:!1})};return i("on",function(n,i){return"function"!=typeof i?t:(r(n,function(t,n){(e[t]=e[t]||[]).push(i),i.typed=n>0}),t)}),i("off",function(n,i){return"*"!=n||i?r(n,function(t){if(i)for(var n,r=e[t],o=0;n=r&&r[o];++o)n==i&&r.splice(o--,1);else delete e[t]}):e={},t}),i("one",function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)}),i("trigger",function(i){var o,s=n.call(arguments,1);return r(i,function(r){o=n.call(e[r]||[],0);for(var i,a=0;i=o[a];++a){if(i.busy)return;i.busy=1,i.apply(t,i.typed?[r].concat(s):s),o[a]!==i&&a--,i.busy=0}e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(s))}),t}),t},function(e){function n(t){return t.split(/[\/?#]/)}function r(t,e){var n=new RegExp("^"+e[T](/\*/g,"([^/?#]+?)")[T](/\.\./,".*")+"$"),r=t.match(n);return r?r.slice(1):void 0}function i(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function o(t){d=i(f,1),A[_](k,d),A[_](L,d),j[_](R,p),t&&f(!0)}function s(){this.$=[],e.observable(this),q.on("stop",this.s.bind(this)),q.on("emit",this.e.bind(this))}function a(t){return t[T](/^\/|\/$/,"")}function u(t){return"string"==typeof t}function c(t){return(t||N.href||"")[T](b,"")}function l(t){return"#"==g[0]?(t||N.href||"").split(g)[1]||"":c(t)[T](g,"")}function f(t){var e=0==I;if(!(I>=S)&&(I++,D.push(function(){var e=l();(t||e!=m)&&(q[C]("emit",e),m=e)}),e)){for(;D.length;)D[0](),D.shift();I=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[E]("download")||!e[E]("href")||e.target&&"_self"!=e.target||-1==e.href.indexOf(N.href.match(b)[0])||(e.href==N.href||e.href.split("#")[0]!=N.href.split("#")[0]&&("#"==g||0===c(e.href).indexOf(g))&&h(l(e.href),e.title||j.title))&&t.preventDefault()}}function h(t,e,n){return O?(t=g+a(t),e=e||j.title,n?O.replaceState(null,e,t):O.pushState(null,e,t),j.title=e,F=!1,f(),F):q[C]("emit",l(t))}var d,g,m,v,y,b=/^.+?\/+[^\/]+/,x="EventListener",w="remove"+x,_="add"+x,E="hasAttribute",T="replace",k="popstate",L="hashchange",C="trigger",S=3,A="undefined"!=typeof t&&t,j="undefined"!=typeof document&&document,O=A&&history,N=A&&(O.location||A.location),M=s.prototype,R=j&&j.ontouchstart?"touchstart":"click",H=!1,q=e.observable(),F=!1,D=[],I=0;M.m=function(t,e,n){!u(t)||e&&!u(e)?e?this.r(t,e):this.r("@",t):h(t,e,n||!1)},M.s=function(){this.off("*"),this.$=[]},M.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?v:y)(a(t),a(e));return"undefined"!=typeof n?(this[C].apply(null,[e].concat(n)),F=!0):void 0},this)},M.r=function(t,e){"@"!=t&&(t="/"+a(t),this.$.push(t)),this.on(t,e)};var P=new s,$=P.m.bind(P);$.create=function(){var t=new s;return t.m.stop=t.s.bind(t),t.m.bind(t)},$.base=function(t){g=t||"#",m=l()},$.exec=function(){f(!0)},$.parser=function(t,e){t||e||(v=n,y=r),t&&(v=t),e&&(y=e)},$.query=function(){var t={},e=N.href||m;return e[T](/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},$.stop=function(){H&&(A&&(A[w](k,d),A[w](L,d),j[w](R,p)),q[C]("stop"),H=!1)},$.start=function(t){H||(A&&("complete"==document.readyState?o(t):A[_]("load",function(){setTimeout(function(){o(t)},1)})),H=!0)},$.base(),$.parser(),e.route=$}(z);var nt=function(t){function e(t){return t}function n(t,e){return e||(e=v),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?c:"")}function r(t){if(t===d)return g;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:g[4],e),e[5]=n(t.length>3?/\\({|})/g:g[5],e),e[6]=n(g[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,c),e[8]=t,e}function i(t){return t instanceof RegExp?a(t):v[t]}function o(t){(t||(t=d))!==v[8]&&(v=r(t),a=t===d?e:n,v[9]=a(g[9]),v[10]=a(g[10])),m=t}function s(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:o,get:function(){return m},enumerable:!0}),u=t,o(e)}var a,u,c="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,f=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=f.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,h={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},d="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),d,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=t,v=[];return i.split=function(t,e,n){function r(t){e||s?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function i(t,e,n){var r,i=h[e];for(i.lastIndex=n,n=1;(r=i.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:i.lastIndex}n||(n=v);var o,s,a,u,c=[],l=n[6];for(s=a=l.lastIndex=0;o=l.exec(t);){if(u=o.index,s){if(o[2]){l.lastIndex=i(t,o[2],l.lastIndex);continue}if(!o[3])continue}o[1]||(r(t.slice(a,u)),a=l.lastIndex,l=n[6+(s^=1)],l.lastIndex=a)}return t&&a<t.length&&r(t.slice(a)),c},i.hasExpr=function(t){return v[4].test(t)},i.loopKeys=function(t){var e=t.match(v[9]);return e?{key:e[1],pos:e[2],val:v[0]+e[3].trim()+v[1]}:{val:t.trim()}},i.hasRaw=function(t){return v[10].test(t)},i.array=function(t){return t?r(t):v},Object.defineProperty(i,"settings",{set:s,get:function(){return u}}),i.settings="undefined"!=typeof z&&z.settings||{},i.set=o,i.R_STRINGS=f,i.R_MLCOMMS=l,i.S_QBLOCKS=p,i}(),rt=function(){function e(t,e){return t?(a[t]||(a[t]=r(t))).call(e,n):t}function n(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function r(t){var e=i(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function i(t){var e,n=[],r=nt.split(t.replace(/\u2057/g,'"'),1);if(r.length>2||r[0]){var i,s,a=[];for(i=s=0;i<r.length;++i)e=r[i],e&&(e=1&i?o(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(a[s++]=e);e=2>s?a[0]:"["+a.join(",")+'].join("")'}else e=o(r[1],0,n);return n[0]&&(e=e.replace(c,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function o(t,e,n){function r(e,n){var r,i=1,o=l[e];for(o.lastIndex=n.lastIndex;r=o.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:o.lastIndex}if("="===t[0]&&(t=t.slice(1)),t=t.replace(u,function(t,e){return t.length>2&&!e?""+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,o=[],a=0;t&&(i=t.match(f))&&!i.index;){var c,p,h=/,|([[{(])|$/g;for(t=RegExp.rightContext,c=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];p=(i=h.exec(t))[1];)r(p,h);p=t.slice(0,i.index),t=RegExp.rightContext,o[a++]=s(p,1,c)}t=a?a>1?"["+o.join(",")+'].join(" ").trim()':o[0]:s(t,e)}return t}function s(t,e,n){var r;return t=t.replace(h,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+p+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!d.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var a={};e.haveRaw=nt.hasRaw,e.hasExpr=nt.hasExpr,e.loopKeys=nt.loopKeys,e.errorHandler=null;var u=RegExp(nt.S_QBLOCKS,"g"),c=/\x01(\d+)~/g,l={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},f=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/,p='"in this?this:'+("object"!=typeof t?"global":"window")+").",h=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,d=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.parse=function(t){return t},e.version=nt.version="v2.3.21",e}(),it=function(t){function e(t,e){var i=t&&t.match(/^\s*<([-\w]+)/),o=i&&i[1].toLowerCase(),u=H(s);return t=r(t,e||""),a.test(o)?u=n(u,t,o):u.innerHTML=t,u.stub=!0,u}function n(t,e,n){var r="o"===n[0],i=r?"select>":"table>";if(t.innerHTML="<"+i+e.trim()+"</"+i,i=t.firstChild,r)i.selectedIndex=-1;else{var s=o[n];s&&1===i.children.length&&(i=F(s,i))}return i}function r(t,e){if(!/<yield\b/i.test(t))return t;var n=0;return t=t.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(t,r){var o=e.match(RegExp(i.replace("@",r),"i"));return++n,o&&o[2]||""}),n?t:t.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,e)}var i=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,o={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s="div";t=t&&10>t;var a=t?W:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return e}(et),ot=function(e){if(!t)return{add:function(){},inject:function(){}};var n=function(){var t=H("style");b(t,"type","text/css");var e=F("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),r=n.styleSheet,i="";return Object.defineProperty(e,"styleNode",{value:n,writable:!0}),{add:function(t){i+=t},inject:function(){i&&(r?r.cssText+=i:n.innerHTML+=i,i="")}}}(z),st=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+r)},r)}}return e}(t||{});z.util={brackets:nt,tmpl:rt},z.mixin=function(){var t={};return function(e,n){return n?void(t[e]=n):t[e]}}(),z.tag=function(t,e,n,r,i){return g(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(g(n)?i=n:ot.add(n)),K[t]={name:t,tmpl:e,attrs:r,fn:i},t},z.tag2=function(t,e,n,r,i,o){return n&&ot.add(n),K[t]={name:t,tmpl:e,attrs:r,fn:i},t},z.mount=function(t,e,n){function r(t){var e="";return d(t,function(t){/[^-\w]/.test(t)||(e+=",*["+V+"="+t.trim()+"]")}),e}function i(){var t=Object.keys(K);return t+r(t)}function o(t){var r;if(t.tagName){!e||(r=y(t,V))&&r==e||b(t,V,e);var i=U(t,e||t.getAttribute(V)||t.tagName.toLowerCase(),n);i&&u.push(i)}else t.length&&d(t,o)}var s,a,u=[];if(ot.inject(),typeof e===J&&(n=e,e=0),typeof t===Z?("*"===t?t=a=i():t+=r(t.split(",")),s=t?q(t):[]):s=t,"*"===e){if(e=a||i(),s.tagName)s=q(e,s);else{var c=[];d(s,function(t){c.push(q(e,t))}),s=c}e=0}return s.tagName?o(s):d(s,o),u},z.update=function(){return d(X,function(t){t.update()})},z.Tag=l,typeof exports===J?module.exports=z:typeof define===Y&&typeof define.amd!==Q?define(function(){return z}):t.riot=z}("undefined"!=typeof window?window:void 0),function(t,e){t.isURI=function(e){return require("fink-is-uri")(e,t.host)},t.route=function(e){return t.endpoint+"/"+e},t.register=function(e,n){return window.superagent.post(t.endpoint).set("Accept","application/json").set("Content-Type","application/json").send({uri:e}).end(function(t,e){return n(e.body.data)})},t.buzz=function(){var t=document.getElementById("fink-logo");t.classList.add("toggleBuzz"),setTimeout(function(){t.classList.remove("toggleBuzz")},750)}}(window.Fink),riot.tag2("shorten",'<section id="shorten-search" class="container" hide="{isFetched}"><form id="shorten-form" onsubmit="{send}"><fieldset><input oninput="{edit}" id="shorten-field" type="search" taborder="1" placeholder="Paste a link to shorten it" autofocus><button id="shorten-button" class="button-primary" taborder="2" onclick="{send}"><span class>Shorten</span><span id="spinner" class="hide"></span></button></fieldset></form></section><section id="shorten-results" show="{isFetched}"><div class="shorten-box container"><label>URL Shorten</label><input value="{hash}" id="uri-hash" class="shorten-text" type="text" onclick="this.select();" readonly><button class="copy-button" data-clipboard-target="#uri-hash"><img class="copy-clipboard" src="assets/images/clipboard.png" alt="Copy to clipboard"></button></div><div class="shorten-box container"><label>URL Shorten Emojify</label><input value="{hashEmoji}" id="uri-hash-emoji" class="shorten-text" type="text" onclick="this.select();" readonly><button class="copy-button" data-clipboard-target="#uri-hash-emoji"><img class="copy-clipboard" src="assets/images/clipboard.png" alt="Copy to clipboard"></button></div></section>',"","",function(t){this.isFetched=!1,this.edit=function(t){this.uri=t.target.value}.bind(this),this.resolveURI=function(t){this.hash=Fink.route(t.hash),this.hashEmoji=Fink.route(t.hashEmoji),this.isFetched=!0,this.update()},this.send=function(t){if(!Fink.isURI(this.uri))return Fink.buzz();var e=this;this["shorten-button"].classList.add("in-action"),this.spinner.classList.remove("hide"),this.spinner.classList.add("show"),Fink.register(this.uri,function(t){return e.resolveURI(t)})}.bind(this)},"{ }"),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.superagent=t()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(t){return t?i(t):void 0}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],2:[function(t,e,n){e.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},{}],3:[function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){return t===Object(t)}function s(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function a(t){for(var e,n,r={},i=t.split("&"),o=0,s=i.length;s>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function u(t){var e,n,r,i,o=t.split(/\r?\n/),s={};o.pop();for(var a=0,u=o.length;u>a;++a)n=o[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=v(n.slice(e+1)),s[r]=i;return s}function c(t){return t.split(/ *; */).shift()}function l(t){return g(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function f(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(t,e){var n=this;d.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new f(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(t||i,e)})}function h(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var d=t("emitter"),g=t("reduce"),m="undefined"==typeof window?this||self:window;h.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var v="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};h.serializeObject=s,h.parseString=a,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},f.prototype.get=function(t){return this.header[t.toLowerCase()]},f.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=l(e);for(var r in n)this[r]=n[r]},f.prototype.parseBody=function(t){var e=h.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},f.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},h.Response=f,d(p.prototype),p.prototype.use=function(t){return t(this),this},p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",h.types[t]||t),this},p.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},p.prototype.field=function(t,e){return this._formData||(this._formData=new m.FormData),this._formData.append(t,e),this},p.prototype.attach=function(t,e,n){return this._formData||(this._formData=new m.FormData),this._formData.append(t,e,n),this},p.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||i(t)?this:(n||this.type("json"),this)},p.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,n=this.xhr=h.getXHR(),o=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(c){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),o&&(o=h.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!i(a)){var l=h.serialize[this.getHeader("Content-Type")];l&&(a=l(a))}for(var f in this.header)null!=this.header[f]&&n.setRequestHeader(f,this.header[f]);return this.emit("request",this),n.send(a),this},h.Request=p,h.get=function(t,e,n){var r=h("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},h.head=function(t,e,n){var r=h("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.del=function(t,e){var n=h("DELETE",t);return e&&n.end(e),n},h.patch=function(t,e,n){var r=h("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.post=function(t,e,n){var r=h("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.put=function(t,e,n){var r=h("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},e.exports=h},{emitter:1,reduce:2}]},{},[3])(3)}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);
return i}({1:[function(t,e,n){var r=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(r(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function r(t,e,n,r,o){var s=i.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}function i(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e,!0),n.delegateTarget&&r.call(t,n)}}var o=t("closest");e.exports=r},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return u(document.body,t,e,n)}var a=t("./is"),u=t("delegate");e.exports=r},{"./is":3,delegate:2}],5:[function(t,e,n){function r(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),r=0;r<n.length;++r)if(n[r]==t)return!0;return!1}var i=Element.prototype,o=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=r},{}],6:[function(t,e,n){function r(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}e.exports=r},{}],7:[function(t,e,n){function r(){}r.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;i>r;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;s>o;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},e.exports=r},{}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("select"),a=r(s),u=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=a["default"](this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=a["default"](this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},o(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!=typeof t||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=t}},get:function(){return this._target}}]),t}();n["default"]=u,e.exports=n["default"]},{select:6}],9:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;return e.hasAttribute(n)?e.getAttribute(n):void 0}n.__esModule=!0;var a=t("./clipboard-action"),u=r(a),c=t("tiny-emitter"),l=r(c),f=t("good-listener"),p=r(f),h=function(t){function e(n,r){i(this,e),t.call(this),this.resolveOptions(r),this.listenClick(n)}return o(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=p["default"](t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return s("action",t)},e.prototype.defaultTarget=function(t){var e=s("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return s("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(l["default"]);n["default"]=h,e.exports=n["default"]},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});